{
  "openapi": "3.0.1",
  "info": {
    "title": "Energy Coordination API - Partner Endpoints",
    "version": "v1"
  },
  "servers": [
    {
      "url": "/energy-coordination/v1"
    }
  ],
  "paths": {
    "/events": {
      "get": {
        "tags": [
          "Events"
        ],
        "summary": "Get All Events",
        "description": "Get all events, ordered by the most recent events first. Maximum pageSize is 1000.",
        "operationId": "GetAllEvents",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetEventsResponse"
                },
                "example": {"events":[{"id":"b36c2adb-108c-4636-88da-d00762ebd62a","createdAt":"2024-11-29T09:02:02.7314235+00:00","payload":{"targets":[{"locationId":"b967f259-44ba-4376-9a01-ee8234660d1f","meterPointId":"707057500019194351","resolution":"01:00:00","points":[{"maxPowerInKiloWatts":0,"timestamp":"2024-11-29T09:02:02.731408+00:00"}]}],"payloadType":"LocationLPC"}},{"id":"8d9b7e75-90de-4110-9014-64b04237e313","createdAt":"2024-11-29T09:02:02.7314055+00:00","payload":{"targets":[{"locationId":"698713fc-cf71-409b-b434-e9f74d5140f8","resourceId":"e9968005-b222-4713-ad30-2482218372d9","meterPointId":"707057500015785942","resolution":"01:00:00","points":[{"maxPowerInKiloWatts":0,"timestamp":"2024-11-29T09:02:02.7313819+00:00"}]}],"payloadType":"ResourceLPC"}},{"id":"da0acc17-651a-4862-962b-205d82ad0a8a","createdAt":"2024-11-29T09:02:02.7313714+00:00","payload":{"lastUpdated":"2024-11-28T09:02:02.7313728+00:00","addedUsers":["26d1dc42-95c8-4a98-9e51-7cdb173354e3"],"removedUsers":["cf071a26-4438-4f35-b9b6-384f99ffc1ec"],"payloadType":"UserEligibility"}},{"id":"df63e8c2-d2f1-443f-b083-0201b78390fe","createdAt":"2024-11-29T09:02:02.7314381+00:00","payload":{"targets":[{"resourceId":"b2d93775-1246-4be8-9d9d-89e42a64fa51","locationId":"1f778da9-6064-434f-bb06-434f23d846db"},{"resourceId":"a95f8481-b9bb-473a-b2e7-1ec79307d3d4","locationId":"aeb3eb8a-176c-4d86-9283-2fe801a6a0d1"},{"resourceId":"c8a46c18-ff14-4e7f-a409-def17c3e2ab0","locationId":"5463f275-b4b1-46d0-bd10-f48b66b71106"},{"resourceId":"2e32ba5b-221b-4492-82d7-5a5033000967","locationId":"3918ff81-1c94-43db-8d53-5695aa17722e"},{"resourceId":"2a17def6-a9aa-4fca-9afa-1021a482fce7","locationId":"4517699f-45aa-4258-86ce-b016e2692087"}],"priceCurveDelta":{"points":[{"price":530.561403651934000,"timestamp":"2024-11-30T00:00:00+00:00"},{"price":552.335084579388000,"timestamp":"2024-11-30T01:00:00+00:00"},{"price":400.439169888847000,"timestamp":"2024-11-30T02:00:00+00:00"},{"price":360.154802895236000,"timestamp":"2024-11-30T03:00:00+00:00"},{"price":900.073125028113000,"timestamp":"2024-11-30T04:00:00+00:00"},{"price":343.265710750621000,"timestamp":"2024-11-30T05:00:00+00:00"},{"price":400.045585631206000,"timestamp":"2024-11-30T06:00:00+00:00"},{"price":332.981218825617000,"timestamp":"2024-11-30T07:00:00+00:00"},{"price":79.5614994130004000,"timestamp":"2024-11-30T08:00:00+00:00"},{"price":192.456821800048000,"timestamp":"2024-11-30T09:00:00+00:00"},{"price":274.259966700175000,"timestamp":"2024-11-30T10:00:00+00:00"},{"price":834.882122763391000,"timestamp":"2024-11-30T11:00:00+00:00"},{"price":227.614184103236000,"timestamp":"2024-11-30T12:00:00+00:00"},{"price":22.7455327139803000,"timestamp":"2024-11-30T13:00:00+00:00"},{"price":642.226054038357000,"timestamp":"2024-11-30T14:00:00+00:00"},{"price":519.345789889636000,"timestamp":"2024-11-30T15:00:00+00:00"},{"price":869.546869913048000,"timestamp":"2024-11-30T16:00:00+00:00"},{"price":606.211077001229000,"timestamp":"2024-11-30T17:00:00+00:00"},{"price":236.920668127997000,"timestamp":"2024-11-30T18:00:00+00:00"},{"price":270.494150507361000,"timestamp":"2024-11-30T19:00:00+00:00"},{"price":204.833983386515000,"timestamp":"2024-11-30T20:00:00+00:00"},{"price":238.004602593973000,"timestamp":"2024-11-30T21:00:00+00:00"},{"price":395.029508456934000,"timestamp":"2024-11-30T22:00:00+00:00"},{"price":983.901837420296000,"timestamp":"2024-11-30T23:00:00+00:00"}],"energyUnit":"kWh","currency":"NOK","resolution":"01:00:00"},"priceArea":"NO1","payloadType":"PriceCurve"}}],"pagination":{"totalRecords":4,"pageSize":4,"currentPage":1,"totalPages":1,"nextPage":null,"previousPage":null}}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/events/{eventId}": {
      "get": {
        "tags": [
          "Events"
        ],
        "summary": "Get Event By Id",
        "operationId": "GetEventById",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetEventResponse"
                },
                "example": {"id":"c1d75b28-78a9-47d0-8146-82a2eb52e0ab","createdAt":"2024-11-29T09:02:02.7319153+00:00","payload":{"targets":[{"resourceId":"2f1c8ce4-a7dd-4585-8a2f-0e2990540de0","locationId":"019275f6-0352-4ce5-869d-2d53176f31ad"},{"resourceId":"c66217ef-5412-4c1e-bb98-e0d82e118adb","locationId":"c540e253-455d-41b8-b277-72e290d23119"},{"resourceId":"c3b50c32-4224-47b2-8512-133f69f05c64","locationId":"ceefa9ef-9a6c-447a-b28d-9292a0dd4fbf"},{"resourceId":"617fcba3-0964-4779-a323-33d6d81c32f4","locationId":"cab08e7f-8fdb-4916-8c9b-c99a5916df49"},{"resourceId":"0c11b055-8e32-4534-ad5e-d07739a41fc2","locationId":"38fc24ed-e19e-4b6c-86d1-cefa3afcd48c"}],"priceCurveDelta":{"points":[{"price":340.316971321776000,"timestamp":"2024-11-30T00:00:00+00:00"},{"price":265.642872276353000,"timestamp":"2024-11-30T01:00:00+00:00"},{"price":771.54923947902000,"timestamp":"2024-11-30T02:00:00+00:00"},{"price":762.798960629588000,"timestamp":"2024-11-30T03:00:00+00:00"},{"price":980.635363596288000,"timestamp":"2024-11-30T04:00:00+00:00"},{"price":946.637907631994000,"timestamp":"2024-11-30T05:00:00+00:00"},{"price":981.86462102947000,"timestamp":"2024-11-30T06:00:00+00:00"},{"price":272.83982870851000,"timestamp":"2024-11-30T07:00:00+00:00"},{"price":247.352657438123000,"timestamp":"2024-11-30T08:00:00+00:00"},{"price":87.8687673496521000,"timestamp":"2024-11-30T09:00:00+00:00"},{"price":848.979841451504000,"timestamp":"2024-11-30T10:00:00+00:00"},{"price":891.308149532082000,"timestamp":"2024-11-30T11:00:00+00:00"},{"price":287.991505772364000,"timestamp":"2024-11-30T12:00:00+00:00"},{"price":551.612356047492000,"timestamp":"2024-11-30T13:00:00+00:00"},{"price":893.82283276651000,"timestamp":"2024-11-30T14:00:00+00:00"},{"price":593.322495328662000,"timestamp":"2024-11-30T15:00:00+00:00"},{"price":335.038767319247000,"timestamp":"2024-11-30T16:00:00+00:00"},{"price":32.5829800874071000,"timestamp":"2024-11-30T17:00:00+00:00"},{"price":375.998035996887000,"timestamp":"2024-11-30T18:00:00+00:00"},{"price":813.109478078213000,"timestamp":"2024-11-30T19:00:00+00:00"},{"price":704.62263580584000,"timestamp":"2024-11-30T20:00:00+00:00"},{"price":305.976531188517000,"timestamp":"2024-11-30T21:00:00+00:00"},{"price":165.465738674821000,"timestamp":"2024-11-30T22:00:00+00:00"},{"price":276.768833527828000,"timestamp":"2024-11-30T23:00:00+00:00"}],"energyUnit":"kWh","currency":"NOK","resolution":"01:00:00"},"priceArea":"NO1","payloadType":"PriceCurve"}}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/reports": {
      "post": {
        "tags": [
          "Reports"
        ],
        "summary": "Create a report",
        "operationId": "PostReport",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostReportRequest"
              },
              "example": {"eventId":"b2e53b10-4fb1-4ee4-8f1b-d359ccde9cc9","payloads":[{"resourceId":"deab5f1c-0490-4b87-b621-0eb6ac20dfce","locationId":null,"meterPointId":null,"points":[{"timestamp":"2024-11-29T07:50:25.5539882+00:00","kiloWattHours":3.14}],"resolution":"01:00:00","curvePoints":null,"payloadType":"EnergyUsage"}]}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetReportResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/resources/{resourceId}": {
      "get": {
        "tags": [
          "Resources"
        ],
        "summary": "Get Resource by Id",
        "operationId": "GetResourceById",
        "parameters": [
          {
            "name": "resourceId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetResourceResponse"
                },
                "example": {"resourceId":"deab5f1c-0490-4b87-b621-0eb6ac20dfce","resourceType":"HotWaterTank","userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab","locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","meterPointId":null}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Resources"
        ],
        "summary": "Delete Resource",
        "description": "Returns 204 No Content if the resource was deleted successfully.\nReturns 404 Not Found if the resource to delete does not exist.",
        "operationId": "DeleteResourceById",
        "parameters": [
          {
            "name": "resourceId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/simulation/events/priceCurve": {
      "post": {
        "tags": [
          "Simulation | Events"
        ],
        "summary": "Simulate Price Curve Event",
        "description": "Creates a `PriceCurveEvent` in the system using the given parameters.\nThe event will be sent to all webhooks that subscribe to the given type of event.\n\n- If the `targets` parameter is not specified, simulated resources and locations will be targeted instead if any exist.\n\n- If the `priceArea` parameter is not specified, a random price area will be selected.\n\n- If the `priceCurveDelta` parameter is not specified, a random price curve delta will be created.",
        "operationId": "PostPriceCurveSimulation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulatePriceCurveEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/simulation/events/userEligibility": {
      "post": {
        "tags": [
          "Simulation | Events"
        ],
        "summary": "Simulate User Eligibility Event",
        "description": "Creates a `UserEligibilityEvent` in the system using the given parameters.\nThe event will be sent to all webhooks that subscribe to the given type of event.\n\nThis event does not affect the eligibility of any users. It is only used to simulate the event.\n\nFor actual events, you can call the /users/eligible endpoint to check\nwhich users are eligible.",
        "operationId": "PostUserEligibilitySimulation",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/simulation/partner": {
      "post": {
        "tags": [
          "Simulation | Partner data"
        ],
        "summary": "Simulate DER-Partner Data",
        "description": "Creates simulated data with users, vehicles, locations and resources.",
        "operationId": "PostTenantDataSimulation",
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Simulation | Partner data"
        ],
        "summary": "Cleanup Simulation Data",
        "description": "Deletes all simulation data from the system. This includes users, vehicles, locations and resources.",
        "operationId": "DeleteTenantDataSimulation",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get Users",
        "description": "Get all users. Maximum pageSize is 1000.",
        "operationId": "GetUsers",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUsersResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Create a User",
        "operationId": "PostUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostUserRequest"
              },
              "example": {"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResponse"
                },
                "example": {"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get User by Id",
        "operationId": "GetUserById",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResponse"
                },
                "example": {"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "Delete User",
        "description": "Returns 204 No Content if the user was deleted successfully.\nReturns 404 Not Found if the user to delete does not exist.",
        "operationId": "DeleteUserById",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/batch": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Create Multiple Users",
        "operationId": "PostUsers",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostUsersBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostUsersBatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/locations": {
      "get": {
        "tags": [
          "User Locations"
        ],
        "summary": "Get A User's Locations",
        "operationId": "GetLocationsByUserId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetLocationResponse"
                  }
                },
                "example": [{"locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","locationType":"Residential","coordinates":null,"meterPointId":"77f2fb1e-44b3-41a8-a2e9-aa769db20bd6","meterPointIds":["77f2fb1e-44b3-41a8-a2e9-aa769db20bd6"],"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}]
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User Locations"
        ],
        "summary": "Create User Location",
        "operationId": "PostLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostLocationRequest"
              },
              "example": {"locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":["77f2fb1e-44b3-41a8-a2e9-aa769db20bd6"]}
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
              }
            }
          },
          "409": {
            "description": "Conflict"
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/locations/{locationId}": {
      "get": {
        "tags": [
          "User Locations"
        ],
        "summary": "Get User Location By Location Id",
        "operationId": "GetLocationByLocationId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "User Locations"
        ],
        "summary": "Update User Location",
        "operationId": "UpdateLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PutLocationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "patch": {
        "tags": [
          "User Locations"
        ],
        "summary": "Patch User Location",
        "operationId": "PatchLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchLocationRequest"
              },
              "example": {"locationType":null,"coordinates":{"latitude":78.22094240482632,"longitude":15.619465054484257},"meterPointIds":null}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "409": {
            "description": "Conflict"
          }
        }
      },
      "delete": {
        "tags": [
          "User Locations"
        ],
        "summary": "Delete User Location",
        "description": "Returns 204 No Content if the location was deleted successfully.\nReturns 404 Not Found if the location to delete does not exist.",
        "operationId": "DeleteLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/locations/batch": {
      "post": {
        "tags": [
          "User Locations"
        ],
        "summary": "Create Multiple User Locations",
        "description": "Create multiple locations for several users at once.\n\"The request body should be an array of objects, each containing a user id and a create location request.",
        "operationId": "PostLocations",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostLocationsBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostLocationsBatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/vehicles": {
      "post": {
        "tags": [
          "User Resources"
        ],
        "summary": "Create Vehicle Resource",
        "operationId": "PostVehicle",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostVehicleResourceRequest"
              },
              "example": {"resourceId":"db79f301-04e6-4061-84e7-d2f8820fd485","resourceType":"Vehicle"}
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetResourceResponse"
                },
                "example": {"resourceId":"deab5f1c-0490-4b87-b621-0eb6ac20dfce","resourceType":"HotWaterTank","userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab","locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","meterPointId":null}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/resources": {
      "get": {
        "tags": [
          "User Resources"
        ],
        "summary": "Get a User's Resources",
        "description": "Get all resources registered to a user. Returns both location bound resources and vehicles.",
        "operationId": "GetResourcesForUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResourcesResponse"
                },
                "example": {"resources":[{"resourceId":"deab5f1c-0490-4b87-b621-0eb6ac20dfce","resourceType":"HotWaterTank","userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab","locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","meterPointId":null},{"resourceId":"db79f301-04e6-4061-84e7-d2f8820fd485","resourceType":"Vehicle","userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab","locationId":null,"meterPointId":null}]}
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/{userId}/locations/{locationId}/resources": {
      "get": {
        "tags": [
          "User Resources | Location-bound"
        ],
        "summary": "Get Location Bound Resources",
        "description": "Get all resources registered at a location.",
        "operationId": "GetLocationBoundResources",
        "parameters": [
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetLocationBoundResourceResponse"
                  }
                },
                "example": [{"resourceId":"deab5f1c-0490-4b87-b621-0eb6ac20dfce","resourceType":"HotWaterTank","locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab","meterPointId":null},{"resourceId":"097544aa-9760-43ea-906c-f7130ecbb79a","resourceType":"Charger","locationId":"b52f3545-5371-47e6-bffa-d1d27c77f5a9","userId":"12a7590b-a7b1-4ff1-9839-ca4539da85ab","meterPointId":null}]
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "post": {
        "tags": [
          "User Resources | Location-bound"
        ],
        "summary": "Create Location Bound Resource",
        "description": "Create a resource at a location.",
        "operationId": "PostLocationBoundResource",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostLocationBoundResourceRequest"
              },
              "example": {"meterPointId":"77f2fb1e-44b3-41a8-a2e9-aa769db20bd6","resourceId":"deab5f1c-0490-4b87-b621-0eb6ac20dfce","resourceType":"HotWaterTank"}
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationBoundResourceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/enrollment": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Get User Enrollment",
        "description": "Get a user's enrollment status.\nAlso returns when the user was enrolled.",
        "operationId": "GetUserEnrollmentByUserId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserEnrollmentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Enroll User",
        "description": "Enroll a user into the SPARK Program",
        "operationId": "PostUserEnrollment",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserEnrollmentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Delete User Enrollment",
        "description": "Remove a user from the SPARK Program",
        "operationId": "DeleteUserEnrollment",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/eligibility": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Get User Eligibility",
        "description": "Check if a user is eligible for the SPARK Program",
        "operationId": "GetUserEligibilityByUserId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserEligibilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/eligible": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Get Eligible Users",
        "description": "Get all users who are eligible for the SPARK Program. Maximum pageSize is 1000.",
        "operationId": "GetEligibleUsers",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetEligibleUsersResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/compensation": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Will fetch the total compensation per location the user has for the current month",
        "operationId": "FetchUserCompensation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserCompensationForCurrentMonthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/meters/{mpid}/eligible": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Check if MeterPoint id eligible for Spark",
        "description": "Indicates whether or not the given MeterPoint is currently eligible for the Spark program",
        "operationId": "GetMpidEligibility",
        "parameters": [
          {
            "name": "mpid",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetMpidEligibilityResponse"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get All Webhooks",
        "operationId": "GetWebhooks",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhooksResponse"
                },
                "example": {"webhooks":[{"webhookId":"6cd24e19-6105-4b46-9f4c-c33ff6bc4078","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2024-11-29T09:02:02.7469354+00:00","createdDate":"2024-11-29T09:02:02.7469344+00:00","lastAnalyzedTimestamp":"2024-11-29T09:02:02.7469356+00:00"}]}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Create a Webhook",
        "operationId": "PostWebhook",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostWebhookRequest"
              },
              "example": {"name":"Example Webhook","webhookSecret":"CMJ0PqrOtGIat7j","webhookUrl":"https://example.com/api","notificationTypes":["PriceCurveCreated","UserEligibilityUpdated","LocationLPCRequested","ResourceLPCRequested"]}
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"6cd24e19-6105-4b46-9f4c-c33ff6bc4078","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2024-11-29T09:02:02.7475647+00:00","createdDate":"2024-11-29T09:02:02.747564+00:00","lastAnalyzedTimestamp":"2024-11-29T09:02:02.7475648+00:00"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/{webhookId}": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get a Webhook by Id",
        "operationId": "GetWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"6cd24e19-6105-4b46-9f4c-c33ff6bc4078","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2024-11-29T09:02:02.7479001+00:00","createdDate":"2024-11-29T09:02:02.7478995+00:00","lastAnalyzedTimestamp":"2024-11-29T09:02:02.7479002+00:00"}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Update a Webhook",
        "operationId": "UpdateWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PutWebhookRequest"
              },
              "example": {"webhookSecret":"New secret","webhookUrl":"https://new-example.com/api/v2/","notificationTypes":["PriceCurveCreated"],"enabled":true,"name":"New name"}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"6cd24e19-6105-4b46-9f4c-c33ff6bc4078","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2024-11-29T09:02:02.7485477+00:00","createdDate":"2024-11-29T09:02:02.7485472+00:00","lastAnalyzedTimestamp":"2024-11-29T09:02:02.7485478+00:00"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "delete": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Delete a webhook",
        "description": "Returns 204 No Content if the webhook was deleted successfully.\nReturns 404 Not Found if the webhook to delete does not exist.",
        "operationId": "DeleteWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Update individual fields of a Webhook",
        "operationId": "PatchWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchWebhookRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"6cd24e19-6105-4b46-9f4c-c33ff6bc4078","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2024-11-29T09:02:02.7492746+00:00","createdDate":"2024-11-29T09:02:02.7492741+00:00","lastAnalyzedTimestamp":"2024-11-29T09:02:02.7492747+00:00"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/webhooks/{webhookId}/enabled": {
      "put": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Enable or Disable a Webhook",
        "operationId": "UpdateWebhookEnabledById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "enabled",
            "in": "query",
            "required": true,
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/webhooks/logs": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get all webhook notification logs",
        "operationId": "GetWebhookNotificationLogs",
        "parameters": [
          {
            "name": "webhookId",
            "in": "query",
            "style": "form",
            "schema": {
              "$ref": "#/components/schemas/WebhookId"
            }
          },
          {
            "name": "page",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookNotificationLogsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/logs/{notificationId}": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get a webhook notification log by notification id",
        "operationId": "GetWebhookNotificationLogById",
        "parameters": [
          {
            "name": "notificationId",
            "in": "path",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookNotificationLogByIdResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiPagination": {
        "type": "object",
        "properties": {
          "totalRecords": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "currentPage": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "nextPage": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "readOnly": true
          },
          "previousPage": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "Coordinate": {
        "type": "object",
        "properties": {
          "latitude": {
            "type": "number",
            "format": "double"
          },
          "longitude": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Currency": {
        "enum": [
          "NOK",
          "EUR",
          "SEK",
          "DKK"
        ],
        "type": "string"
      },
      "EnergyCurvePoint": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "kiloWattHours": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "EnergyUnit": {
        "enum": [
          "kWh",
          "MWh"
        ],
        "type": "string"
      },
      "EnergyUsageReportPayload": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkReportPayload"
          }
        ],
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "locationId": {
            "type": "string",
            "nullable": true
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            }
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          },
          "curvePoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            },
            "nullable": true,
            "deprecated": true
          }
        },
        "additionalProperties": false
      },
      "EventId": {
        "type": "string"
      },
      "EventNotification": {
        "type": "object",
        "properties": {
          "notificationId": {
            "$ref": "#/components/schemas/NotificationId"
          },
          "eventId": {
            "type": "string"
          },
          "eventCreatedAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "notificationSentUtc": {
            "type": "string",
            "format": "date-time"
          },
          "notificationType": {
            "$ref": "#/components/schemas/NotificationType"
          },
          "payload": {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        },
        "additionalProperties": false
      },
      "GetEligibleUsersResponse": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetEventResponse": {
        "type": "object",
        "properties": {
          "payload": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/PriceCurvePayload"
              },
              {
                "$ref": "#/components/schemas/UserEligibilityPayload"
              }
            ]
          },
          "id": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GetEventsResponse": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetEventResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetLocationBoundResourceResponse": {
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          },
          "locationId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetLocationResponse": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "readOnly": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "userId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetMpidEligibilityResponse": {
        "type": "object",
        "properties": {
          "meterPointId": {
            "type": "string"
          },
          "isEligible": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "GetReportResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "eventId": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GetResourceResponse": {
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          },
          "userId": {
            "type": "string"
          },
          "locationId": {
            "type": "string",
            "nullable": true
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetUserCompensationForCurrentMonthResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/UserId"
          },
          "period": {
            "$ref": "#/components/schemas/Period"
          },
          "locationCompensations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LocationCompensation"
            }
          }
        },
        "additionalProperties": false
      },
      "GetUserEligibilityResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "isEligible": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "GetUserEnrollmentResponse": {
        "type": "object",
        "properties": {
          "isEnrolled": {
            "type": "boolean",
            "readOnly": true
          },
          "userId": {
            "type": "string"
          },
          "enrollmentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "enrollmentDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetUserResourcesResponse": {
        "type": "object",
        "properties": {
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetResourceResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetUserResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "GetUsersResponse": {
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetWebhookNotificationLogByIdResponse": {
        "type": "object",
        "properties": {
          "webhookNotificationLog": {
            "$ref": "#/components/schemas/WebhookNotificationLog"
          },
          "notificationContent": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "GetWebhookNotificationLogsResponse": {
        "type": "object",
        "properties": {
          "webhookNotificationLogs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WebhookNotificationLog"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          }
        },
        "additionalProperties": false
      },
      "GetWebhookResponse": {
        "type": "object",
        "properties": {
          "webhookId": {
            "type": "string"
          },
          "webhookUrl": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            }
          },
          "enabled": {
            "type": "boolean"
          },
          "status": {
            "$ref": "#/components/schemas/WebhookStatus"
          },
          "modifiedDate": {
            "type": "string",
            "format": "date-time"
          },
          "createdDate": {
            "type": "string",
            "format": "date-time"
          },
          "lastAnalyzedTimestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GetWebhooksResponse": {
        "type": "object",
        "properties": {
          "webhooks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetWebhookResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "HttpValidationProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          },
          "errors": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "additionalProperties": { }
      },
      "LocationCompensation": {
        "type": "object",
        "properties": {
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MeterPointId"
            }
          },
          "activeAmount": {
            "type": "number",
            "format": "double"
          },
          "blockedAmount": {
            "type": "number",
            "format": "double"
          },
          "currency": {
            "$ref": "#/components/schemas/Currency"
          },
          "problems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Problem"
            }
          }
        },
        "additionalProperties": false
      },
      "LocationId": {
        "type": "string"
      },
      "LocationType": {
        "enum": [
          "Unknown",
          "Residential",
          "Commercial",
          "Other"
        ],
        "type": "string"
      },
      "MeterPointId": {
        "type": "string"
      },
      "NotificationId": {
        "type": "string"
      },
      "NotificationType": {
        "enum": [
          "Unknown",
          "PriceCurveCreated",
          "UserEligibilityUpdated",
          "LocationLPCRequested",
          "ResourceLPCRequested"
        ],
        "type": "string"
      },
      "PatchLocationRequest": {
        "type": "object",
        "properties": {
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PatchWebhookRequest": {
        "type": "object",
        "properties": {
          "webhookSecret": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string",
            "nullable": true
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            },
            "nullable": true
          },
          "enabled": {
            "type": "boolean",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Period": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "format": "date"
          },
          "to": {
            "type": "string",
            "format": "date"
          }
        },
        "additionalProperties": false
      },
      "PostLocationBoundResourceRequest": {
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PostLocationRequest": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PostLocationWithUserRequest": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "userId": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "PostLocationsBatchRequest": {
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostLocationWithUserRequest"
            }
          }
        },
        "additionalProperties": false
      },
      "PostLocationsBatchResponse": {
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetLocationResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "PostReportRequest": {
        "type": "object",
        "properties": {
          "eventId": {
            "type": "string"
          },
          "payloads": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/EnergyUsageReportPayload"
                }
              ]
            }
          }
        },
        "additionalProperties": false
      },
      "PostUserRequest": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "PostUsersBatchRequest": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostUserRequest"
            }
          }
        },
        "additionalProperties": false
      },
      "PostUsersBatchResponse": {
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "PostVehicleResourceRequest": {
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          }
        },
        "additionalProperties": false
      },
      "PostWebhookRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "webhookSecret": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string"
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            }
          }
        },
        "additionalProperties": false
      },
      "PriceArea": {
        "enum": [
          "Unknown",
          "NO1",
          "NO2",
          "NO3",
          "NO4",
          "NO5",
          "FI",
          "DK1",
          "DK2",
          "SE1",
          "SE2",
          "SE3",
          "SE4"
        ],
        "type": "string"
      },
      "PriceCurve": {
        "type": "object",
        "properties": {
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PriceCurvePoint"
            }
          },
          "energyUnit": {
            "$ref": "#/components/schemas/EnergyUnit"
          },
          "currency": {
            "$ref": "#/components/schemas/Currency"
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          }
        },
        "additionalProperties": false
      },
      "PriceCurvePayload": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PriceCurveTarget"
            }
          },
          "priceCurveDelta": {
            "$ref": "#/components/schemas/PriceCurve"
          },
          "priceArea": {
            "$ref": "#/components/schemas/PriceArea"
          }
        },
        "additionalProperties": false
      },
      "PriceCurvePoint": {
        "type": "object",
        "properties": {
          "price": {
            "type": "number",
            "format": "double"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "PriceCurveTarget": {
        "type": "object",
        "properties": {
          "resourceId": {
            "$ref": "#/components/schemas/ResourceId"
          },
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          }
        },
        "additionalProperties": false
      },
      "Problem": {
        "type": "object",
        "properties": {
          "problemType": {
            "$ref": "#/components/schemas/ProblemType"
          },
          "message": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "ProblemType": {
        "enum": [
          "MissingMpidOnLocation",
          "CompensationMpidDoesNotMatchLocation"
        ],
        "type": "string"
      },
      "PutLocationRequest": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PutWebhookRequest": {
        "type": "object",
        "properties": {
          "webhookSecret": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string"
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            }
          },
          "enabled": {
            "type": "boolean"
          },
          "name": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResourceId": {
        "type": "string"
      },
      "ResourceType": {
        "enum": [
          "Generic",
          "Vehicle",
          "Charger",
          "HotWaterTank",
          "HVAC",
          "SolarInverter"
        ],
        "type": "string"
      },
      "SimulateEventResponse": {
        "type": "object",
        "properties": {
          "simulatedEvent": {
            "$ref": "#/components/schemas/GetEventResponse"
          }
        },
        "additionalProperties": false
      },
      "SimulatePriceCurveEventRequest": {
        "type": "object",
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PriceCurveTarget"
            },
            "nullable": true
          },
          "priceCurveDelta": {
            "$ref": "#/components/schemas/PriceCurve"
          },
          "priceArea": {
            "$ref": "#/components/schemas/PriceArea"
          }
        },
        "additionalProperties": false
      },
      "SparkEventPayload": {
        "type": "object",
        "properties": {
          "payloadType": {
            "$ref": "#/components/schemas/SparkEventPayloadType"
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "payloadType",
          "mapping": {
            "PriceCurve": "#/components/schemas/PriceCurvePayload",
            "UserEligibility": "#/components/schemas/UserEligibilityPayload"
          }
        }
      },
      "SparkEventPayloadType": {
        "enum": [
          "Unknown",
          "UserEligibility",
          "PriceCurve",
          "LocationLPC",
          "ResourceLPC"
        ],
        "type": "string"
      },
      "SparkReportPayload": {
        "type": "object",
        "properties": {
          "payloadType": {
            "$ref": "#/components/schemas/SparkReportPayloadType"
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "payloadType",
          "mapping": {
            "EnergyUsage": "#/components/schemas/EnergyUsageReportPayload"
          }
        }
      },
      "SparkReportPayloadType": {
        "enum": [
          "EnergyUsage",
          "LocationEnergyUsage",
          "ResourceLPCAcknowledgement",
          "LocationLPCAcknowledgement"
        ],
        "type": "string"
      },
      "TenantId": {
        "type": "string"
      },
      "UserEligibilityPayload": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "lastUpdated": {
            "type": "string",
            "format": "date-time"
          },
          "addedUsers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "removedUsers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": false
      },
      "UserId": {
        "type": "string"
      },
      "WebhookId": {
        "type": "string"
      },
      "WebhookNotificationLog": {
        "type": "object",
        "properties": {
          "webhookId": {
            "$ref": "#/components/schemas/WebhookId"
          },
          "tenantId": {
            "$ref": "#/components/schemas/TenantId"
          },
          "partnerEventId": {
            "$ref": "#/components/schemas/EventId"
          },
          "notificationId": {
            "$ref": "#/components/schemas/NotificationId"
          },
          "notificationType": {
            "$ref": "#/components/schemas/NotificationType"
          },
          "notificationSent": {
            "type": "string",
            "format": "date-time"
          },
          "sparkSignature": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string",
            "format": "uri"
          },
          "requestTimeout": {
            "type": "boolean"
          },
          "responseStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "requestDurationMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "WebhookStatus": {
        "enum": [
          "New",
          "Healthy",
          "Unhealthy",
          "TimeOut"
        ],
        "type": "string"
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "description": "Enter the JWT-token. Bearer will be prepended.",
        "scheme": "Bearer"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}