{
  "openapi": "3.0.1",
  "info": {
    "title": "Energy Coordination API - Partner Endpoints",
    "version": "v1"
  },
  "servers": [
    {
      "url": "/energy-coordination/v1"
    }
  ],
  "paths": {
    "/events": {
      "get": {
        "tags": [
          "Events"
        ],
        "summary": "Get All Events",
        "description": "Get all events, ordered by the most recent events first. Maximum pageSize is 1000.",
        "operationId": "GetAllEvents",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetEventsResponse"
                },
                "example": {"events":[{"id":"0b52f54e-48a6-469d-955f-d60eebca180d","createdAt":"2025-01-26T09:01:54.8982938+00:00","payload":{"targets":[{"locationId":"c1ea3c13-74c3-4aa0-afb7-ce05a63e9019","meterPointId":"707057500027982173","resolution":"01:00:00","points":[{"maxPowerInKiloWatts":0,"timestamp":"2025-01-26T09:01:54.8982811+00:00"}]}],"payloadType":"LocationLPC"}},{"id":"18448476-50a7-4fbb-8fee-f7b9c1a9eb4a","createdAt":"2025-01-26T09:01:54.8980069+00:00","payload":{"targets":[{"resolution":"01:00:00","points":[{"maxPowerInKiloWatts":0,"timestamp":"2025-01-26T09:01:54.8979948+00:00"}],"meterPointId":"707057500039700223","locationId":"cc1d2747-6acd-4cf0-bc1b-046f8e9004de","resourceId":"8a8615ca-564e-4132-b61b-a54e9ad149f6"}],"payloadType":"ResourceLPC"}},{"id":"6894456f-c4a2-41d4-be49-c4d44b13eec5","createdAt":"2025-01-26T09:01:54.8979843+00:00","payload":{"lastUpdated":"2025-01-25T09:01:54.8979859+00:00","addedUsers":["8cccb0fd-c5f7-4ea3-b70f-c2ff424ea619"],"removedUsers":["bc49f359-5dcc-4fb7-a5b4-d9b6c5b4ec15"],"payloadType":"UserEligibility"}},{"id":"24b62f4e-d25d-459c-8e66-7284b3cde23e","createdAt":"2025-01-26T09:01:54.8983053+00:00","payload":{"targets":[{"resourceId":"3bc52c3d-b7b2-4824-b57f-baf70e8d00e6","locationId":"e3f50a14-ad36-4c4b-9a10-931caf321c42"},{"resourceId":"58a8d11f-6dac-43f2-9749-db636fa2774d","locationId":"b54be6c8-2e68-400a-9c95-763950f1f9c1"},{"resourceId":"83f839f3-b8c0-4965-bd10-b1aa927e2ec3","locationId":"194d2af2-3648-445f-8a48-1f8d91be4b6c"},{"resourceId":"079e6e21-18bc-4576-95be-33f81e6dcaac","locationId":"c36394ef-e631-4ee5-922c-47a5188e9767"},{"resourceId":"21f2e03f-0edb-4632-b9e9-ac04464bf171","locationId":"40847d90-5d1a-4f20-b058-f0f35b6fabcb"}],"priceCurveDelta":{"points":[{"price":888.616419644198000,"timestamp":"2025-01-27T00:00:00+00:00"},{"price":135.971940061169000,"timestamp":"2025-01-27T01:00:00+00:00"},{"price":768.796009390196000,"timestamp":"2025-01-27T02:00:00+00:00"},{"price":545.636309050953000,"timestamp":"2025-01-27T03:00:00+00:00"},{"price":43.2754509141294000,"timestamp":"2025-01-27T04:00:00+00:00"},{"price":632.95004258871000,"timestamp":"2025-01-27T05:00:00+00:00"},{"price":877.097844662104000,"timestamp":"2025-01-27T06:00:00+00:00"},{"price":911.329707058183000,"timestamp":"2025-01-27T07:00:00+00:00"},{"price":919.999276262598000,"timestamp":"2025-01-27T08:00:00+00:00"},{"price":750.476663770976000,"timestamp":"2025-01-27T09:00:00+00:00"},{"price":821.49966359954000,"timestamp":"2025-01-27T10:00:00+00:00"},{"price":45.2394567584685000,"timestamp":"2025-01-27T11:00:00+00:00"},{"price":433.342937442453000,"timestamp":"2025-01-27T12:00:00+00:00"},{"price":455.173462615923000,"timestamp":"2025-01-27T13:00:00+00:00"},{"price":612.188232154877000,"timestamp":"2025-01-27T14:00:00+00:00"},{"price":935.699121247411000,"timestamp":"2025-01-27T15:00:00+00:00"},{"price":859.02268362624000,"timestamp":"2025-01-27T16:00:00+00:00"},{"price":386.61762957938000,"timestamp":"2025-01-27T17:00:00+00:00"},{"price":781.469287302764000,"timestamp":"2025-01-27T18:00:00+00:00"},{"price":793.887359844806000,"timestamp":"2025-01-27T19:00:00+00:00"},{"price":985.803612365676000,"timestamp":"2025-01-27T20:00:00+00:00"},{"price":917.773638252336000,"timestamp":"2025-01-27T21:00:00+00:00"},{"price":524.160235032398000,"timestamp":"2025-01-27T22:00:00+00:00"},{"price":142.263019835937000,"timestamp":"2025-01-27T23:00:00+00:00"}],"energyUnit":"kWh","currency":"NOK","resolution":"01:00:00"},"priceArea":"NO1","payloadType":"PriceCurve"}}],"pagination":{"totalRecords":4,"pageSize":4,"currentPage":1,"totalPages":1,"nextPage":null,"previousPage":null}}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/events/{eventId}": {
      "get": {
        "tags": [
          "Events"
        ],
        "summary": "Get Event By Id",
        "operationId": "GetEventById",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetEventResponse"
                },
                "example": {"id":"f21b8af8-5655-4462-88c5-e8b74e877f03","createdAt":"2025-01-26T09:01:54.898608+00:00","payload":{"targets":[{"resourceId":"e2ca8956-04ac-43ed-bb86-5089aa8ecf02","locationId":"64551a56-033b-44f1-903d-d31eeaf214f1"},{"resourceId":"523c244c-2cdf-4849-8182-71c54d632ca3","locationId":"b9d9b749-bde2-4810-8dca-6912fd584eaa"},{"resourceId":"cb2d48c5-c9a6-4788-98b6-49f90391ace9","locationId":"ba7cbb0c-856d-4982-b10f-75fff9d49bda"},{"resourceId":"f65a7858-e673-467a-a96a-31438a306a48","locationId":"24cbcba8-e801-4d8a-9f24-66c41ae823a9"},{"resourceId":"22aaaa45-c4c3-4723-aa48-fed6244cf111","locationId":"d97235d6-fc3d-4aa0-a04e-19af0cd4e21c"}],"priceCurveDelta":{"points":[{"price":64.605467023117000,"timestamp":"2025-01-27T00:00:00+00:00"},{"price":593.331888462788000,"timestamp":"2025-01-27T01:00:00+00:00"},{"price":675.686173644806000,"timestamp":"2025-01-27T02:00:00+00:00"},{"price":536.143090472754000,"timestamp":"2025-01-27T03:00:00+00:00"},{"price":461.874918070992000,"timestamp":"2025-01-27T04:00:00+00:00"},{"price":170.977610673039000,"timestamp":"2025-01-27T05:00:00+00:00"},{"price":715.859569150744000,"timestamp":"2025-01-27T06:00:00+00:00"},{"price":111.526043833499000,"timestamp":"2025-01-27T07:00:00+00:00"},{"price":261.371714360254000,"timestamp":"2025-01-27T08:00:00+00:00"},{"price":337.747152348161000,"timestamp":"2025-01-27T09:00:00+00:00"},{"price":886.91262033565000,"timestamp":"2025-01-27T10:00:00+00:00"},{"price":316.199407829879000,"timestamp":"2025-01-27T11:00:00+00:00"},{"price":43.0720823732927000,"timestamp":"2025-01-27T12:00:00+00:00"},{"price":351.037357953129000,"timestamp":"2025-01-27T13:00:00+00:00"},{"price":958.391481529155000,"timestamp":"2025-01-27T14:00:00+00:00"},{"price":990.583374050432000,"timestamp":"2025-01-27T15:00:00+00:00"},{"price":763.963649613466000,"timestamp":"2025-01-27T16:00:00+00:00"},{"price":806.41455144669000,"timestamp":"2025-01-27T17:00:00+00:00"},{"price":451.048524916652000,"timestamp":"2025-01-27T18:00:00+00:00"},{"price":90.0254730672366000,"timestamp":"2025-01-27T19:00:00+00:00"},{"price":886.163300239149000,"timestamp":"2025-01-27T20:00:00+00:00"},{"price":761.507339690801000,"timestamp":"2025-01-27T21:00:00+00:00"},{"price":238.47394103454000,"timestamp":"2025-01-27T22:00:00+00:00"},{"price":935.95156451813000,"timestamp":"2025-01-27T23:00:00+00:00"}],"energyUnit":"kWh","currency":"NOK","resolution":"01:00:00"},"priceArea":"NO1","payloadType":"PriceCurve"}}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/reports": {
      "post": {
        "tags": [
          "Reports"
        ],
        "summary": "Create a report",
        "operationId": "PostReport",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostReportRequest"
              },
              "example": {"eventId":"6e654588-32c1-429b-9910-5284f7fb304a","payloads":[{"resourceId":"ec67f6bb-fb94-462e-b5aa-742649e4b434","locationId":null,"meterPointId":null,"points":[{"timestamp":"2025-01-24T17:27:07.019174+00:00","kiloWattHours":3.14}],"resolution":"01:00:00","curvePoints":null,"payloadType":"EnergyUsage"}]}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetReportResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/resources/{resourceId}": {
      "get": {
        "tags": [
          "Resources"
        ],
        "summary": "Get Resource by Id",
        "operationId": "GetResourceById",
        "parameters": [
          {
            "name": "resourceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetResourceResponse"
                },
                "example": {"resourceId":"ec67f6bb-fb94-462e-b5aa-742649e4b434","resourceType":"HotWaterTank","userId":"ad945928-431f-4777-ac68-9c641d635bac","locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","meterPointId":null}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Resources"
        ],
        "summary": "Delete Resource",
        "description": "Returns 204 No Content if the resource was deleted successfully.\nReturns 404 Not Found if the resource to delete does not exist.",
        "operationId": "DeleteResourceById",
        "parameters": [
          {
            "name": "resourceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/simulation/events/pricecurve": {
      "post": {
        "tags": [
          "Simulation | Events"
        ],
        "summary": "Simulate Price Curve Event",
        "description": "Creates a `PriceCurve` event in the system using the given parameters.\nThe event will be sent to all webhooks that subscribe to the given type of event.\n\n- If the `targets` parameter is not specified, simulated resources and locations will be targeted instead if any exist.\n\n- If the `priceArea` parameter is not specified, a random price area will be selected.\n\n- If the `priceCurveDelta` parameter is not specified, a random price curve delta will be created.",
        "operationId": "PostPriceCurveSimulation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulatePriceCurveEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/simulation/events/usereligibility": {
      "post": {
        "tags": [
          "Simulation | Events"
        ],
        "summary": "Simulate User Eligibility Event",
        "description": "Creates a `UserEligibility` event in the system using the given parameters.\nThe event will be sent to all webhooks that subscribe to the given type of event.\n\nThis event does not affect the eligibility of any users. It is only used to simulate the event.\n\nFor actual events, you can call the /users/eligible endpoint to check\nwhich users are eligible.",
        "operationId": "PostUserEligibilitySimulation",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/simulation/events/lpc/locations": {
      "post": {
        "tags": [
          "Simulation | Events"
        ],
        "summary": "Simulate LPC Location Event",
        "description": "Creates a `LocationLPC` event in the system using the given parameters.\nThe event will be sent to all webhooks that subscribe to the given type of event.\n\n- If the `locations` parameter is not specified, random locations will be targeted if any exist.\n\n- If the `points` parameter is not specified, a random points array with maximum power will be generated.",
        "operationId": "PostLPCLocationSimulation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulateLocationLPCEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/simulation/events/lpc/resources": {
      "post": {
        "tags": [
          "Simulation | Events"
        ],
        "summary": "Simulate LPC Resource Event",
        "description": "Creates a `ResourceLPC` event in the system using the given parameters.\nThe event will be sent to all webhooks that subscribe to the given type of event.\n\n- If the `resources` parameter is not specified, random resources at locations will be targeted if any exist.\n\n- If the `points` parameter is not specified, a random points array with maximum power will be generated.",
        "operationId": "PostLPCResourceSimulation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulateResourceLPCEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/simulation/partner": {
      "post": {
        "tags": [
          "Simulation | Partner data"
        ],
        "summary": "Simulate DER-Partner Data",
        "description": "Creates simulated data with users, vehicles, locations and resources.",
        "operationId": "PostTenantDataSimulation",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Simulation | Partner data"
        ],
        "summary": "Cleanup Simulation Data",
        "description": "Deletes all simulation data from the system. This includes users, vehicles, locations and resources.",
        "operationId": "DeleteTenantDataSimulation",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get Users",
        "description": "Get all users. Maximum pageSize is 1000.",
        "operationId": "GetUsers",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUsersResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Create a User",
        "operationId": "PostUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostUserRequest"
              },
              "example": {"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResponse"
                },
                "example": {"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get User by Id",
        "operationId": "GetUserById",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResponse"
                },
                "example": {"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "Delete User",
        "description": "Returns 204 No Content if the user was deleted successfully.\nReturns 404 Not Found if the user to delete does not exist.",
        "operationId": "DeleteUserById",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/batch": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Create Multiple Users",
        "operationId": "PostUsers",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostUsersBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostUsersBatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/locations": {
      "get": {
        "tags": [
          "User Locations"
        ],
        "summary": "Get A User's Locations",
        "operationId": "GetLocationsByUserId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetLocationResponse"
                  }
                },
                "example": [{"locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","locationType":"Residential","coordinates":null,"meterPointId":"d4b50dbd-5b1f-4846-933e-df1fa886e8da","meterPointIds":["d4b50dbd-5b1f-4846-933e-df1fa886e8da"],"userId":"ad945928-431f-4777-ac68-9c641d635bac"}]
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User Locations"
        ],
        "summary": "Create User Location",
        "operationId": "PostLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostLocationRequest"
              },
              "example": {"locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":["d4b50dbd-5b1f-4846-933e-df1fa886e8da"]}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
              }
            }
          },
          "409": {
            "description": "Conflict"
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/locations/{locationId}": {
      "get": {
        "tags": [
          "User Locations"
        ],
        "summary": "Get User Location By Location Id",
        "operationId": "GetLocationByLocationId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "User Locations"
        ],
        "summary": "Update User Location",
        "operationId": "UpdateLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PutLocationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "patch": {
        "tags": [
          "User Locations"
        ],
        "summary": "Patch User Location",
        "operationId": "PatchLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchLocationRequest"
              },
              "example": {"locationType":null,"coordinates":{"latitude":78.22094240482632,"longitude":15.619465054484257},"meterPointIds":null}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationResponse"
                },
                "example": {"locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","locationType":"Residential","coordinates":null,"meterPointId":null,"meterPointIds":[],"userId":"ad945928-431f-4777-ac68-9c641d635bac"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "409": {
            "description": "Conflict"
          }
        }
      },
      "delete": {
        "tags": [
          "User Locations"
        ],
        "summary": "Delete User Location",
        "description": "Returns 204 No Content if the location was deleted successfully.\nReturns 404 Not Found if the location to delete does not exist.",
        "operationId": "DeleteLocation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/locations/batch": {
      "post": {
        "tags": [
          "User Locations"
        ],
        "summary": "Create Multiple User Locations",
        "description": "Create multiple locations for several users at once.\n\"The request body should be an array of objects, each containing a user id and a create location request.",
        "operationId": "PostLocations",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostLocationsBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostLocationsBatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/vehicles": {
      "post": {
        "tags": [
          "User Resources"
        ],
        "summary": "Create Vehicle Resource",
        "operationId": "PostVehicle",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostVehicleResourceRequest"
              },
              "example": {"resourceId":"360df73e-f80c-439b-ad25-b41f24383d77","resourceType":"Vehicle"}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetResourceResponse"
                },
                "example": {"resourceId":"ec67f6bb-fb94-462e-b5aa-742649e4b434","resourceType":"HotWaterTank","userId":"ad945928-431f-4777-ac68-9c641d635bac","locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","meterPointId":null}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/resources": {
      "get": {
        "tags": [
          "User Resources"
        ],
        "summary": "Get a User's Resources",
        "description": "Get all resources registered to a user. Returns both location bound resources and vehicles.",
        "operationId": "GetResourcesForUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResourcesResponse"
                },
                "example": {"resources":[{"resourceId":"ec67f6bb-fb94-462e-b5aa-742649e4b434","resourceType":"HotWaterTank","userId":"ad945928-431f-4777-ac68-9c641d635bac","locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","meterPointId":null},{"resourceId":"360df73e-f80c-439b-ad25-b41f24383d77","resourceType":"Vehicle","userId":"ad945928-431f-4777-ac68-9c641d635bac","locationId":null,"meterPointId":null}]}
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/{userId}/locations/{locationId}/resources": {
      "get": {
        "tags": [
          "User Resources | Location-bound"
        ],
        "summary": "Get Location Bound Resources",
        "description": "Get all resources registered at a location.",
        "operationId": "GetLocationBoundResources",
        "parameters": [
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetLocationBoundResourceResponse"
                  }
                },
                "example": [{"resourceId":"ec67f6bb-fb94-462e-b5aa-742649e4b434","resourceType":"HotWaterTank","locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","userId":"ad945928-431f-4777-ac68-9c641d635bac","meterPointId":null},{"resourceId":"4a2c4c39-c1e4-4937-bcd8-28adcfc9f86e","resourceType":"Charger","locationId":"21dfa725-77f4-4ad7-a0d1-c0361b6ba210","userId":"ad945928-431f-4777-ac68-9c641d635bac","meterPointId":null}]
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "post": {
        "tags": [
          "User Resources | Location-bound"
        ],
        "summary": "Create Location Bound Resource",
        "description": "Create a resource at a location.",
        "operationId": "PostLocationBoundResource",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "locationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostLocationBoundResourceRequest"
              },
              "example": {"meterPointId":"d4b50dbd-5b1f-4846-933e-df1fa886e8da","resourceId":"ec67f6bb-fb94-462e-b5aa-742649e4b434","resourceType":"HotWaterTank"}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationBoundResourceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/enrollment": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Get User Enrollment",
        "description": "Get a user's enrollment status.\nAlso returns when the user was enrolled.",
        "operationId": "GetUserEnrollmentByUserId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserEnrollmentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Enroll User",
        "description": "Enroll a user into the SPARK Program",
        "operationId": "PostUserEnrollment",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserEnrollmentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Delete User Enrollment",
        "description": "Remove a user from the SPARK Program",
        "operationId": "DeleteUserEnrollment",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/eligibility": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Get User Eligibility",
        "description": "Check if a user is eligible for the SPARK Program",
        "operationId": "GetUserEligibilityByUserId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserEligibilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/users/eligible": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Get Eligible Users",
        "description": "Get all users who are eligible for the SPARK Program. Maximum pageSize is 1000.",
        "operationId": "GetEligibleUsers",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetEligibleUsersResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/compensation": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Will fetch the total compensation per location the user has for the current month",
        "operationId": "FetchUserCompensation",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserCompensationForCurrentMonthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/meters/{mpid}/eligible": {
      "get": {
        "tags": [
          "User Spark Program"
        ],
        "summary": "Check if MeterPoint id eligible for Spark",
        "description": "Indicates whether or not the given MeterPoint is currently eligible for the Spark program",
        "operationId": "GetMpidEligibility",
        "parameters": [
          {
            "name": "mpid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetMpidEligibilityResponse"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get All Webhooks",
        "operationId": "GetWebhooks",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhooksResponse"
                },
                "example": {"webhooks":[{"webhookId":"acdfa0bd-db21-4f63-8782-32ce3a102f5b","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2025-01-26T09:01:54.9047798+00:00","createdDate":"2025-01-26T09:01:54.9047791+00:00","lastAnalyzedTimestamp":"2025-01-26T09:01:54.9047799+00:00"}]}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Create a Webhook",
        "operationId": "PostWebhook",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostWebhookRequest"
              },
              "example": {"name":"Example Webhook","webhookSecret":"CMJ0PqrOtGIat7j","webhookUrl":"https://example.com/api","notificationTypes":["PriceCurveCreated","UserEligibilityUpdated","LocationLPCRequested","ResourceLPCRequested"]}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"acdfa0bd-db21-4f63-8782-32ce3a102f5b","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2025-01-26T09:01:54.9050824+00:00","createdDate":"2025-01-26T09:01:54.9050821+00:00","lastAnalyzedTimestamp":"2025-01-26T09:01:54.9050825+00:00"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/{webhookId}": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get a Webhook by Id",
        "operationId": "GetWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"acdfa0bd-db21-4f63-8782-32ce3a102f5b","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2025-01-26T09:01:54.905377+00:00","createdDate":"2025-01-26T09:01:54.9053766+00:00","lastAnalyzedTimestamp":"2025-01-26T09:01:54.905377+00:00"}
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Update a Webhook",
        "operationId": "UpdateWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PutWebhookRequest"
              },
              "example": {"webhookSecret":"New secret","webhookUrl":"https://new-example.com/api/v2/","notificationTypes":["PriceCurveCreated"],"enabled":true,"name":"New name"}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"acdfa0bd-db21-4f63-8782-32ce3a102f5b","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2025-01-26T09:01:54.9056951+00:00","createdDate":"2025-01-26T09:01:54.9056948+00:00","lastAnalyzedTimestamp":"2025-01-26T09:01:54.9056952+00:00"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "delete": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Delete a webhook",
        "description": "Returns 204 No Content if the webhook was deleted successfully.\nReturns 404 Not Found if the webhook to delete does not exist.",
        "operationId": "DeleteWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Update individual fields of a Webhook",
        "operationId": "PatchWebhookById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchWebhookRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookResponse"
                },
                "example": {"webhookId":"acdfa0bd-db21-4f63-8782-32ce3a102f5b","webhookUrl":"https://example.com/api","name":"Example Webhook","notificationTypes":["PriceCurveCreated"],"enabled":true,"status":"Healthy","modifiedDate":"2025-01-26T09:01:54.9059906+00:00","createdDate":"2025-01-26T09:01:54.9059904+00:00","lastAnalyzedTimestamp":"2025-01-26T09:01:54.9059907+00:00"}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/webhooks/{webhookId}/enabled": {
      "put": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Enable or Disable a Webhook",
        "operationId": "UpdateWebhookEnabledById",
        "parameters": [
          {
            "name": "webhookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "enabled",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": { }
            }
          },
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/webhooks/logs": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get all webhook notification logs",
        "operationId": "GetWebhookNotificationLogs",
        "parameters": [
          {
            "name": "webhookId",
            "in": "query",
            "schema": {
              "$ref": "#/components/schemas/WebhookId"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookNotificationLogsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/logs/{notificationId}": {
      "get": {
        "tags": [
          "Webhooks"
        ],
        "summary": "Get a webhook notification log by notification id",
        "operationId": "GetWebhookNotificationLogById",
        "parameters": [
          {
            "name": "notificationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetWebhookNotificationLogByIdResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpValidationProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiPagination": {
        "required": [
          "currentPage",
          "pageSize",
          "totalRecords"
        ],
        "type": "object",
        "properties": {
          "totalRecords": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "currentPage": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "nextPage": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "readOnly": true
          },
          "previousPage": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "Coordinate": {
        "type": "object",
        "properties": {
          "latitude": {
            "type": "number",
            "format": "double"
          },
          "longitude": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Currency": {
        "enum": [
          "NOK",
          "EUR",
          "SEK",
          "DKK"
        ],
        "type": "string"
      },
      "EnergyCurvePoint": {
        "required": [
          "kiloWattHours",
          "timestamp"
        ],
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "kiloWattHours": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "EnergyUnit": {
        "enum": [
          "kWh",
          "MWh"
        ],
        "type": "string"
      },
      "EnergyUsageReportPayload": {
        "required": [
          "resolution",
          "resourceId"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkReportPayload"
          }
        ],
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "locationId": {
            "type": "string",
            "nullable": true
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            }
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          },
          "curvePoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            },
            "nullable": true,
            "deprecated": true
          }
        },
        "additionalProperties": false
      },
      "EventId": {
        "type": "string"
      },
      "EventNotification": {
        "required": [
          "eventCreatedAtUtc",
          "eventId",
          "notificationId",
          "notificationSentUtc",
          "notificationType",
          "payload"
        ],
        "type": "object",
        "properties": {
          "notificationId": {
            "$ref": "#/components/schemas/NotificationId"
          },
          "eventId": {
            "type": "string"
          },
          "eventCreatedAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "notificationSentUtc": {
            "type": "string",
            "format": "date-time"
          },
          "notificationType": {
            "$ref": "#/components/schemas/NotificationType"
          },
          "payload": {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        },
        "additionalProperties": false
      },
      "GetEligibleUsersResponse": {
        "required": [
          "pagination"
        ],
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetEventResponse": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "payload": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/PriceCurvePayload"
              },
              {
                "$ref": "#/components/schemas/UserEligibilityPayload"
              },
              {
                "$ref": "#/components/schemas/LocationLPCPayload"
              },
              {
                "$ref": "#/components/schemas/ResourceLPCPayload"
              },
              {
                "$ref": "#/components/schemas/LPCReservationPayload"
              }
            ]
          },
          "id": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GetEventsResponse": {
        "required": [
          "pagination"
        ],
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetEventResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetLocationBoundResourceResponse": {
        "required": [
          "locationId",
          "resourceId",
          "resourceType",
          "userId"
        ],
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          },
          "locationId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetLocationResponse": {
        "required": [
          "locationId"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "readOnly": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "userId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetMpidEligibilityResponse": {
        "required": [
          "isEligible",
          "meterPointId"
        ],
        "type": "object",
        "properties": {
          "meterPointId": {
            "type": "string"
          },
          "isEligible": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "GetReportResponse": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "eventId": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GetResourceResponse": {
        "required": [
          "resourceId",
          "resourceType",
          "userId"
        ],
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          },
          "userId": {
            "type": "string"
          },
          "locationId": {
            "type": "string",
            "nullable": true
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetUserCompensationForCurrentMonthResponse": {
        "required": [
          "period"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/UserId"
          },
          "period": {
            "$ref": "#/components/schemas/Period"
          },
          "locationCompensations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LocationCompensation"
            }
          }
        },
        "additionalProperties": false
      },
      "GetUserEligibilityResponse": {
        "required": [
          "isEligible",
          "userId"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "isEligible": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "GetUserEnrollmentResponse": {
        "required": [
          "userId"
        ],
        "type": "object",
        "properties": {
          "isEnrolled": {
            "type": "boolean",
            "readOnly": true
          },
          "userId": {
            "type": "string"
          },
          "enrollmentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "enrollmentDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GetUserResourcesResponse": {
        "required": [
          "resources"
        ],
        "type": "object",
        "properties": {
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetResourceResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetUserResponse": {
        "required": [
          "userId"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "GetUsersResponse": {
        "required": [
          "pagination"
        ],
        "type": "object",
        "properties": {
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "GetWebhookNotificationLogByIdResponse": {
        "type": "object",
        "properties": {
          "webhookNotificationLog": {
            "$ref": "#/components/schemas/WebhookNotificationLog"
          },
          "notificationContent": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "GetWebhookNotificationLogsResponse": {
        "type": "object",
        "properties": {
          "webhookNotificationLogs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WebhookNotificationLog"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/ApiPagination"
          }
        },
        "additionalProperties": false
      },
      "GetWebhookResponse": {
        "required": [
          "webhookId",
          "webhookUrl"
        ],
        "type": "object",
        "properties": {
          "webhookId": {
            "type": "string"
          },
          "webhookUrl": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            }
          },
          "enabled": {
            "type": "boolean"
          },
          "status": {
            "$ref": "#/components/schemas/WebhookStatus"
          },
          "modifiedDate": {
            "type": "string",
            "format": "date-time"
          },
          "createdDate": {
            "type": "string",
            "format": "date-time"
          },
          "lastAnalyzedTimestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GetWebhooksResponse": {
        "required": [
          "webhooks"
        ],
        "type": "object",
        "properties": {
          "webhooks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetWebhookResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "HttpValidationProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          },
          "errors": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "additionalProperties": { }
      },
      "LPCDataPoint": {
        "type": "object",
        "properties": {
          "maxPowerInKiloWatts": {
            "type": "number",
            "format": "double"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "LPCLocation": {
        "required": [
          "locationId",
          "meterPointId"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "meterPointId": {
            "$ref": "#/components/schemas/MeterPointId"
          }
        },
        "additionalProperties": false
      },
      "LPCLocationTarget": {
        "type": "object",
        "properties": {
          "location": {
            "$ref": "#/components/schemas/LocationTarget"
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCDataPoint"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LPCReservationPayload": {
        "required": [
          "payloadType",
          "targets"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LocationLPCTarget"
            }
          }
        },
        "additionalProperties": false
      },
      "LPCResource": {
        "required": [
          "locationId",
          "meterPointId",
          "resourceId"
        ],
        "type": "object",
        "properties": {
          "meterPointId": {
            "$ref": "#/components/schemas/MeterPointId"
          },
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "resourceId": {
            "$ref": "#/components/schemas/ResourceId"
          }
        },
        "additionalProperties": false
      },
      "LPCResourceTarget": {
        "type": "object",
        "properties": {
          "resource": {
            "$ref": "#/components/schemas/ResourceTarget"
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCDataPoint"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LocationCompensation": {
        "type": "object",
        "properties": {
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MeterPointId"
            }
          },
          "activeAmount": {
            "type": "number",
            "format": "double"
          },
          "blockedAmount": {
            "type": "number",
            "format": "double"
          },
          "currency": {
            "$ref": "#/components/schemas/Currency"
          },
          "problems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Problem"
            }
          }
        },
        "additionalProperties": false
      },
      "LocationEnergyUsagePlanReportPayload": {
        "required": [
          "baseline",
          "flexibility",
          "locationId",
          "meterPointId",
          "resolution"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkReportPayload"
          }
        ],
        "properties": {
          "locationId": {
            "type": "string"
          },
          "meterPointId": {
            "type": "string"
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          },
          "baseline": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            }
          },
          "flexibility": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            }
          }
        },
        "additionalProperties": false
      },
      "LocationEnergyUsageReportPayload": {
        "required": [
          "locationId",
          "meterPointId",
          "resolution"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkReportPayload"
          }
        ],
        "properties": {
          "locationId": {
            "type": "string"
          },
          "meterPointId": {
            "type": "string"
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnergyCurvePoint"
            }
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          }
        },
        "additionalProperties": false
      },
      "LocationId": {
        "type": "string"
      },
      "LocationLPCAcknowledgmentReportPayload": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkReportPayload"
          }
        ],
        "properties": {
          "acknowledgedTargets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCLocation"
            }
          },
          "declinedTargets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCLocation"
            }
          }
        },
        "additionalProperties": false
      },
      "LocationLPCPayload": {
        "required": [
          "payloadType",
          "targets"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LocationLPCTarget"
            }
          }
        },
        "additionalProperties": false
      },
      "LocationLPCTarget": {
        "required": [
          "locationId",
          "meterPointId",
          "points",
          "resolution"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "meterPointId": {
            "$ref": "#/components/schemas/MeterPointId"
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCDataPoint"
            }
          }
        },
        "additionalProperties": false
      },
      "LocationTarget": {
        "type": "object",
        "properties": {
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "meterPointId": {
            "$ref": "#/components/schemas/MeterPointId"
          }
        },
        "additionalProperties": false
      },
      "LocationType": {
        "enum": [
          "Unknown",
          "Residential",
          "Commercial",
          "Other"
        ],
        "type": "string"
      },
      "MeterPointId": {
        "type": "string"
      },
      "NotificationId": {
        "type": "string"
      },
      "NotificationType": {
        "enum": [
          "Unknown",
          "PriceCurveCreated",
          "UserEligibilityUpdated",
          "LocationLPCRequested",
          "ResourceLPCRequested",
          "LPCReservationCreated"
        ],
        "type": "string"
      },
      "PatchLocationRequest": {
        "type": "object",
        "properties": {
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PatchWebhookRequest": {
        "type": "object",
        "properties": {
          "webhookSecret": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string",
            "nullable": true
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            },
            "nullable": true
          },
          "enabled": {
            "type": "boolean",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Period": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "format": "date"
          },
          "to": {
            "type": "string",
            "format": "date"
          }
        },
        "additionalProperties": false
      },
      "PostLocationBoundResourceRequest": {
        "required": [
          "resourceId",
          "resourceType"
        ],
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PostLocationRequest": {
        "required": [
          "locationId"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PostLocationWithUserRequest": {
        "required": [
          "locationId",
          "userId"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "userId": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "PostLocationsBatchRequest": {
        "required": [
          "locations"
        ],
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostLocationWithUserRequest"
            }
          }
        },
        "additionalProperties": false
      },
      "PostLocationsBatchResponse": {
        "required": [
          "locations"
        ],
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetLocationResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "PostReportRequest": {
        "type": "object",
        "properties": {
          "eventId": {
            "type": "string",
            "nullable": true
          },
          "payloads": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/EnergyUsageReportPayload"
                },
                {
                  "$ref": "#/components/schemas/LocationEnergyUsageReportPayload"
                },
                {
                  "$ref": "#/components/schemas/ResourceLPCAcknowledgmentReportPayload"
                },
                {
                  "$ref": "#/components/schemas/LocationLPCAcknowledgmentReportPayload"
                },
                {
                  "$ref": "#/components/schemas/LocationEnergyUsagePlanReportPayload"
                }
              ]
            }
          }
        },
        "additionalProperties": false
      },
      "PostUserRequest": {
        "required": [
          "userId"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "PostUsersBatchRequest": {
        "required": [
          "users"
        ],
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostUserRequest"
            }
          }
        },
        "additionalProperties": false
      },
      "PostUsersBatchResponse": {
        "required": [
          "users"
        ],
        "type": "object",
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserResponse"
            }
          }
        },
        "additionalProperties": false
      },
      "PostVehicleResourceRequest": {
        "required": [
          "resourceId",
          "resourceType"
        ],
        "type": "object",
        "properties": {
          "resourceId": {
            "type": "string"
          },
          "resourceType": {
            "$ref": "#/components/schemas/ResourceType"
          }
        },
        "additionalProperties": false
      },
      "PostWebhookRequest": {
        "required": [
          "webhookUrl"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "webhookSecret": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string"
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            }
          }
        },
        "additionalProperties": false
      },
      "PriceArea": {
        "enum": [
          "Unknown",
          "NO1",
          "NO2",
          "NO3",
          "NO4",
          "NO5",
          "FI",
          "DK1",
          "DK2",
          "SE1",
          "SE2",
          "SE3",
          "SE4"
        ],
        "type": "string"
      },
      "PriceCurve": {
        "type": "object",
        "properties": {
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PriceCurvePoint"
            }
          },
          "energyUnit": {
            "$ref": "#/components/schemas/EnergyUnit"
          },
          "currency": {
            "$ref": "#/components/schemas/Currency"
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          }
        },
        "additionalProperties": false
      },
      "PriceCurvePayload": {
        "required": [
          "payloadType",
          "priceArea",
          "priceCurveDelta",
          "targets"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PriceCurveTarget"
            }
          },
          "priceCurveDelta": {
            "$ref": "#/components/schemas/PriceCurve"
          },
          "priceArea": {
            "$ref": "#/components/schemas/PriceArea"
          }
        },
        "additionalProperties": false
      },
      "PriceCurvePoint": {
        "type": "object",
        "properties": {
          "price": {
            "type": "number",
            "format": "double"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "PriceCurveTarget": {
        "required": [
          "locationId",
          "resourceId"
        ],
        "type": "object",
        "properties": {
          "resourceId": {
            "$ref": "#/components/schemas/ResourceId"
          },
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          }
        },
        "additionalProperties": false
      },
      "Problem": {
        "required": [
          "message"
        ],
        "type": "object",
        "properties": {
          "problemType": {
            "$ref": "#/components/schemas/ProblemType"
          },
          "message": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "ProblemType": {
        "enum": [
          "MissingMpidOnLocation",
          "CompensationMpidDoesNotMatchLocation"
        ],
        "type": "string"
      },
      "PutLocationRequest": {
        "required": [
          "locationId"
        ],
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string"
          },
          "locationType": {
            "$ref": "#/components/schemas/LocationType"
          },
          "coordinates": {
            "$ref": "#/components/schemas/Coordinate"
          },
          "meterPointId": {
            "type": "string",
            "nullable": true,
            "deprecated": true
          },
          "meterPointIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PutWebhookRequest": {
        "required": [
          "webhookUrl"
        ],
        "type": "object",
        "properties": {
          "webhookSecret": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string"
          },
          "notificationTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationType"
            }
          },
          "enabled": {
            "type": "boolean"
          },
          "name": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResourceId": {
        "type": "string"
      },
      "ResourceLPCAcknowledgmentReportPayload": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkReportPayload"
          }
        ],
        "properties": {
          "acknowledgedTargets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCResource"
            }
          },
          "declinedTargets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCResource"
            }
          }
        },
        "additionalProperties": false
      },
      "ResourceLPCPayload": {
        "required": [
          "payloadType",
          "targets"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ResourceLPCTarget"
            }
          }
        },
        "additionalProperties": false
      },
      "ResourceLPCTarget": {
        "required": [
          "locationId",
          "meterPointId",
          "points",
          "resolution",
          "resourceId"
        ],
        "type": "object",
        "properties": {
          "meterPointId": {
            "$ref": "#/components/schemas/MeterPointId"
          },
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "resourceId": {
            "$ref": "#/components/schemas/ResourceId"
          },
          "resolution": {
            "type": "string",
            "format": "time-span",
            "example": "02:00:00"
          },
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCDataPoint"
            }
          }
        },
        "additionalProperties": false
      },
      "ResourceTarget": {
        "type": "object",
        "properties": {
          "locationId": {
            "$ref": "#/components/schemas/LocationId"
          },
          "resourceId": {
            "$ref": "#/components/schemas/ResourceId"
          },
          "meterPointId": {
            "$ref": "#/components/schemas/MeterPointId"
          }
        },
        "additionalProperties": false
      },
      "ResourceType": {
        "enum": [
          "Generic",
          "Vehicle",
          "Charger",
          "HotWaterTank",
          "HVAC",
          "SolarInverter"
        ],
        "type": "string"
      },
      "SimulateEventResponse": {
        "type": "object",
        "properties": {
          "simulatedEvent": {
            "$ref": "#/components/schemas/GetEventResponse"
          }
        },
        "additionalProperties": false
      },
      "SimulateLocationLPCEventRequest": {
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCLocationTarget"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "SimulatePriceCurveEventRequest": {
        "type": "object",
        "properties": {
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PriceCurveTarget"
            },
            "nullable": true
          },
          "priceCurveDelta": {
            "$ref": "#/components/schemas/PriceCurve"
          },
          "priceArea": {
            "$ref": "#/components/schemas/PriceArea"
          }
        },
        "additionalProperties": false
      },
      "SimulateResourceLPCEventRequest": {
        "type": "object",
        "properties": {
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LPCResourceTarget"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "SparkEventPayload": {
        "required": [
          "payloadType"
        ],
        "type": "object",
        "properties": {
          "payloadType": {
            "$ref": "#/components/schemas/SparkEventPayloadType"
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "payloadType",
          "mapping": {
            "PriceCurve": "#/components/schemas/PriceCurvePayload",
            "UserEligibility": "#/components/schemas/UserEligibilityPayload",
            "LocationLPC": "#/components/schemas/LocationLPCPayload",
            "ResourceLPC": "#/components/schemas/ResourceLPCPayload",
            "LPCReservation": "#/components/schemas/LPCReservationPayload"
          }
        }
      },
      "SparkEventPayloadType": {
        "enum": [
          "Unknown",
          "UserEligibility",
          "PriceCurve",
          "LocationLPC",
          "ResourceLPC",
          "LPCReservation"
        ],
        "type": "string"
      },
      "SparkReportPayload": {
        "type": "object",
        "properties": {
          "payloadType": {
            "$ref": "#/components/schemas/SparkReportPayloadType"
          }
        },
        "additionalProperties": false,
        "discriminator": {
          "propertyName": "payloadType",
          "mapping": {
            "EnergyUsage": "#/components/schemas/EnergyUsageReportPayload",
            "LocationEnergyUsage": "#/components/schemas/LocationEnergyUsageReportPayload",
            "ResourceLPCAcknowledgement": "#/components/schemas/ResourceLPCAcknowledgmentReportPayload",
            "LocationLPCAcknowledgement": "#/components/schemas/LocationLPCAcknowledgmentReportPayload",
            "LocationEnergyUsagePlan": "#/components/schemas/LocationEnergyUsagePlanReportPayload"
          }
        }
      },
      "SparkReportPayloadType": {
        "enum": [
          "EnergyUsage",
          "LocationEnergyUsage",
          "LocationEnergyUsagePlan",
          "ResourceLPCAcknowledgement",
          "LocationLPCAcknowledgement"
        ],
        "type": "string"
      },
      "TenantId": {
        "type": "string"
      },
      "UserEligibilityPayload": {
        "required": [
          "addedUsers",
          "lastUpdated",
          "payloadType",
          "removedUsers"
        ],
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/SparkEventPayload"
          }
        ],
        "properties": {
          "lastUpdated": {
            "type": "string",
            "format": "date-time"
          },
          "addedUsers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "removedUsers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": false
      },
      "UserId": {
        "type": "string"
      },
      "WebhookId": {
        "type": "string"
      },
      "WebhookNotificationLog": {
        "required": [
          "tenantId",
          "webhookId",
          "webhookUrl"
        ],
        "type": "object",
        "properties": {
          "webhookId": {
            "$ref": "#/components/schemas/WebhookId"
          },
          "tenantId": {
            "$ref": "#/components/schemas/TenantId"
          },
          "partnerEventId": {
            "$ref": "#/components/schemas/EventId"
          },
          "notificationId": {
            "$ref": "#/components/schemas/NotificationId"
          },
          "notificationType": {
            "$ref": "#/components/schemas/NotificationType"
          },
          "notificationSent": {
            "type": "string",
            "format": "date-time"
          },
          "sparkSignature": {
            "type": "string",
            "nullable": true
          },
          "webhookUrl": {
            "type": "string",
            "format": "uri"
          },
          "requestTimeout": {
            "type": "boolean"
          },
          "responseStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "requestDurationMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "WebhookStatus": {
        "enum": [
          "New",
          "Healthy",
          "Unhealthy",
          "TimeOut"
        ],
        "type": "string"
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "description": "Enter the JWT-token. Bearer will be prepended.",
        "scheme": "Bearer"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ]
}